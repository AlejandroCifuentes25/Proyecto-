import java.util.Scanner;

public class ConsumoDeAgua {
    private String consumoMes;
    private GuardarResultado guardarResultado;
    private Recomendaciones recomendaciones;

    public ConsumoDeAgua(GuardarResultado guardarResultado, Recomendaciones recomendaciones) {
        this.guardarResultado = guardarResultado;
        this.recomendaciones = recomendaciones;
    }

    public void ingresarConsumo(int consumo, String periodicidad) {
        switch (periodicidad.toLowerCase()) {
            case "diario":
                consumoMes = "Diario";
                break;
            case "semanal":
                consumoMes = "Semanal";
                break;
            case "mensual":
                consumoMes = "Mensual";
                break;
            default:
                System.out.println("Periodicidad inválida.");
                return;
        }

        if (consumoMes.equals("Diario") && consumo > 500) {
            System.out.println("¡Alerta! Consumo diario alto.");
            guardarResultado.agregarDato("Alerta: Consumo diario alto (" + consumo + " litros)");
        } else if (consumoMes.equals("Semanal") && consumo > 2000) {
            System.out.println("¡Alerta! Consumo semanal alto.");
            guardarResultado.agregarDato("Alerta: Consumo semanal alto (" + consumo + " litros)");
        } else if (consumoMes.equals("Mensual") && consumo > 5000) {
            System.out.println("¡Alerta! Consumo mensual alto.");
            guardarResultado.agregarDato("Alerta: Consumo mensual alto (" + consumo + " litros)");
        } else {
            System.out.println("El consumo de agua está dentro de los límites normales.");
        }

        // Generar recomendaciones
        hacerRecomendaciones();
    }

    public void hacerRecomendaciones() {
        System.out.println("Recomendaciones:");
        System.out.println("- Recomendación 1: " + recomendaciones.getRecomendacion1());
        System.out.println("- Recomendación 2: " + recomendaciones.getRecomendacion2());
        System.out.println("- Recomendación 3: " + recomendaciones.getRecomendacion3());
    }

    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);

        System.out.println("Ingrese el consumo de agua:");
        int consumo = scanner.nextInt();

        System.out.println("Seleccione la periodicidad del consumo (diario/semanal/mensual):");
        String periodicidad = scanner.next();

        GuardarResultado guardarResultado = new GuardarResultado();
        Recomendaciones recomendaciones = new Recomendaciones("No dejes las llaves del agua abiertas si no se estan usando ", "Pruebe reutilizar agua para diferentes necesidades", "Considere no demorarse mucho usando agua en la ducha o en la canilla", 10.0);

        ConsumoDeAgua consumoDeAgua = new ConsumoDeAgua(guardarResultado, recomendaciones);

        consumoDeAgua.ingresarConsumo(consumo, periodicidad);

        scanner.close();
    }
}
